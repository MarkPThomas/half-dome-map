<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Half-dome-map by MarkPThomas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Half-dome-map</h1>
      <h2 class="project-tagline">Use Leaflet to zoom in / pan around a tiled composite photo of the northwest face of Half Dome.</h2>
      <a href="https://github.com/MarkPThomas/half-dome-map" class="btn">View on GitHub</a>
      <a href="https://github.com/MarkPThomas/half-dome-map/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/MarkPThomas/half-dome-map/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="half-dome-map" class="anchor" href="#half-dome-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Half-dome Map</h1>

<p><img src="https://lh5.googleusercontent.com/-ZHTBh2m36x4/U1fdajMXUSI/AAAAAAADeBk/YiSuqmaDvk8/s800/354334_21831_XL.jpg" alt="alt"></p>

<p>Use <a href="http://leafletjs.com">Leaflet</a> to zoom in / pan around a <a href="https://github.com/rktjmp/tileup">tiled</a> 16,614px by 8,406px composite photograph of the northwest face of <a href="https://en.wikipedia.org/wiki/Half_Dome">Half Dome</a>.</p>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo</h2>

<p>Interact with overlays that detail climbing routes, share experiences, and offer tips.</p>

<p>See the current version here: <a href="http://038dbbc.netsolhost.com/maps-gis/half-dome-map/" title="Half Dome Interactive Map">http://038dbbc.netsolhost.com/maps-gis/half-dome-map/</a></p>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development</h2>

<p>The tileset is large (~ 200 MB) and so is not here under version control. To obtain a copy of the tileset, contact Mark Thomas or Donny Winston (<code>markums</code> or <code>dwinst</code> at gmail dot com, respectfully).</p>

<h1>
<a id="interactive-half-dome-map" class="anchor" href="#interactive-half-dome-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interactive Half Dome Map</h1>

<h2>
<a id="inspiration" class="anchor" href="#inspiration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inspiration</h2>

<p>(Make sure to go full screen for the best experience. Zoom in, pan around, turn layers on and off, click photo icons to see image thumbnails in popups, click the thumbnails to see the images enlarged. Most items have mouseover tooltips, and what you see changes upon zoom level.) </p>

<p>Last Fall I had an idea for making a unique style of trip report that provides an interactive first-person POV experience, merged with the birds-eye view of the route traveled. I had already climbed the route with my friend Nic Risser, sleeping atop Big Sandy for my 30th BDay in August, so I also had photo documentation of the route. </p>

<p>I had no idea how I would do this, apart from knowing that I needed photo material to work with and would have to learn JavaScript to implement it. So on my last weekend out before my first of 3 knee surgeries, I hiked to the summit of North Dome with my camera and took a lot of closeup shots of Half Dome, and during my down time this winter, I figured out how to make this idea a reality. </p>

<p>The project is still very much unfinished (and yes, Justin, I still need to add photos from your climb!), but it is working, and really fun as-is, and I see myself waiting too long before sharing it if I wait until it is 'finished'. </p>

<h2>
<a id="process" class="anchor" href="#process" aria-hidden="true"><span class="octicon octicon-link"></span></a>Process</h2>

<p>I created the image with photos taken using a 7-year-old Nikon D40 DLSR, with a Nikkor kit lens. (55-200mm zoom). I merged the image together in Adobe Photoshop, but not without some trial and error for such a big project.</p>

<p><img src="https://lh5.googleusercontent.com/-zUrB5HbC7LU/UmdJU1LeBTI/AAAAAAADblc/Kdet1XewOnM/s800/2013-10-20%2520-%2520043%2520-%2520Solo%2520TR%2520%2526%2520North%2520Dome%2520-%2520ObamaCareToHalfDome.jpg" alt="Result of attempting to blend all of the photos at once in Adobe Photoshop.">
Result of attempting to blend all of the photos at once in Adobe Photoshop.</p>

<p>However, with some experimentation, I found a way to get the merging to work correctly.</p>

<p><img src="https://lh3.googleusercontent.com/-YR35dlwmxf0/U1MSGTFSuCI/AAAAAAADdsc/O_YHAv-Uzn0/s800/2013-10-20%2520-%2520046%2520-%2520Solo%2520TR%2520%2526%2520North%2520Dome%2520-%2520IMG_3387%2520-%2520process.jpg" alt="NW Face of Half Dome, roughly as I had divided it up into close up photographs taken with a 200mm zoom lens.">
NW Face of Half Dome, roughly as I had divided it up into close up photographs taken with a 200mm zoom lens.</p>

<p>Once the image was assembled, I had the problem that the image was 75MB, which took far too long to load on a web browser to be a feasible way for a user to quickly view the image. There are a number of JavaScript methods &amp; plugins for  photo enlarging, but most did not allow some form of interactivity on the map that would scale and pan with the image.</p>

<p>I spent some time trying out one that could handle keeping image maps scaled and aligned with the image, but it was appearing to be a dead end.</p>

<p>So I tried tiling, which handles the size and sizing issues. Using this system also allowed for using various interactive elements (icons, polylines, shapes), positioned by latitude  longitude coordinates, as this system is normally used for maps. Since my project was a flat image and not a curved 3D surface on Earth, I had to write some 'unproject' methods in my scripts, but otherwise everything worked together smoothly.</p>

<p><img src="https://lh3.googleusercontent.com/-OUfSmeGBKPs/U1MSJcBaZ4I/AAAAAAADd68/qHD2JIWWXiA/s800/Tiling%2520Concept.jpg" alt="I used Tiling to make to make the high resolution Half Dome image feasible for web viewing, with panning and zoom navigation. This is the same technique that Google Maps uses.">
I used Tiling to make to make the high resolution Half Dome image feasible for web viewing, with panning and zoom navigation. This is the same technique that Google Maps uses.</p>

<p>The tiling was done using a free Ruby script that automates the process, taking a few seconds to size, crop, and save the files in a format &amp; folder structure that can be read by code for automatically re-assembling the portions of the image that are in view of your screen. There are various Ruby and Python scripts available to do such things, although figuring out how to get them to work is tedious (I really don't know either programming language).</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/MarkPThomas/half-dome-map">Half-dome-map</a> is maintained by <a href="https://github.com/MarkPThomas">MarkPThomas</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63581746-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

